<!DOCTYPE html>
<html>
<head>
    <title>CascadingRollbackResult - ByteHot Documentation</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
<div class="navigation">
    <a href="../index.html">üè† Home</a>
    <a href="../implementation.html">üèóÔ∏è Implementation</a>
    <a href="../journal.html">üìî Journal</a>
    <a href="../docs/">üìö Docs</a>
    <a href="../javadocs/">üìñ Javadocs</a>
    <a href="https://github.com/rydnr/bytehot">üîó GitHub</a>
</div>
<main>
<h1 id="overview">Overview</h1>
<p>The <code class="verbatim">CascadingRollbackResult</code> class
represents the outcome of rollback operations that affect multiple
classes and their dependencies. It provides comprehensive information
about complex rollback scenarios where changes to one class require
rolling back dependent classes to maintain system consistency.</p>
<h2 id="key-responsibilities">Key Responsibilities</h2>
<ul>
<li>Report outcomes of multi-class rollback operations</li>
<li>Track rollback success/failure across class dependency chains</li>
<li>Provide detailed metrics for cascading rollback performance</li>
<li>Support rollback coordination and conflict resolution analysis</li>
<li>Enable monitoring and optimization of complex rollback
scenarios</li>
</ul>
<h1 id="class-declaration-and-core-structure">Class Declaration and Core
Structure</h1>
<div class="sourceCode" id="cb1"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/CascadingRollbackResult.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">                        ByteHot</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Copyright (C) 2025-today  rydnr@acm-sl.org</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">    This library is free software; you can redistribute it and/or</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">    modify it under the terms of the GNU General Public</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">    License as published by the Free Software Foundation; either</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">    version 3 of the License, or (at your option) any later version.</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">    This library is distributed in the hope that it will be useful,</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">    General Public License for more details.</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">    You should have received a copy of the GNU General Public v3</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">    License along with this library; if not, write to the Free Software</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">    Thanks to ACM S.L. for distributing this library under the GPLv3 license.</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Contact info: jose.sanleandro@acm-sl.com</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"> ******************************************************************************</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"> * Filename: CascadingRollbackResult.java</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co"> * Author: Claude Code</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"> * Class name: CascadingRollbackResult</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="co"> * Responsibilities:</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - Report outcomes of multi-class rollback operations</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - Track rollback coordination across dependency chains</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - Support complex rollback scenario analysis and optimization</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"> * Collaborators:</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - RollbackManager: Creates cascading rollback results</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - RollbackResult: Individual class rollback outcomes</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="co"> *   - ConflictResolutionResult: Conflict resolution outcomes</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="kw">package</span><span class="im"> org</span><span class="op">.</span><span class="im">acmsl</span><span class="op">.</span><span class="im">bytehot</span><span class="op">.</span><span class="im">domain</span><span class="op">;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">lombok</span><span class="op">.</span><span class="im">Getter</span><span class="op">;</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">time</span><span class="op">.</span><span class="im">Duration</span><span class="op">;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">time</span><span class="op">.</span><span class="im">Instant</span><span class="op">;</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">List</span><span class="op">;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">Map</span><span class="op">;</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">concurrent</span><span class="op">.</span><span class="im">ConcurrentHashMap</span><span class="op">;</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">concurrent</span><span class="op">.</span><span class="im">CopyOnWriteArrayList</span><span class="op">;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Represents the outcome of a cascading rollback operation across multiple classes</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@author</span> Claude Code</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@since</span> <span class="co">2025-06-17</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="at">@Getter</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> CascadingRollbackResult <span class="op">{</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Whether the overall cascading rollback was successful</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">boolean</span> overallSuccess<span class="op">;</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Primary class that initiated the cascading rollback</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> primaryClassName<span class="op">;</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Individual rollback results for each affected class</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> individualResults<span class="op">;</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Rollback execution order <span class="co">(</span>classes in dependency order<span class="co">)</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> rollbackExecutionOrder<span class="op">;</span></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Total duration of the cascading rollback operation</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">Duration</span> totalDuration<span class="op">;</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Timestamp when cascading rollback started</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> Instant startTime<span class="op">;</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Timestamp when cascading rollback completed</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> Instant endTime<span class="op">;</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Number of classes successfully rolled back</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> classesSuccessfullyRolledBack<span class="op">;</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Number of classes that failed to roll back</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> classesThatFailedRollback<span class="op">;</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Conflicts encountered and their resolutions</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>ConflictResolutionResult<span class="op">&gt;</span> conflictResolutions<span class="op">;</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Dependencies that were automatically discovered during rollback</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;&gt;</span> discoveredDependencies<span class="op">;</span></span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Warnings encountered during the cascading rollback</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">;</span></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Additional details about the cascading operation</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> operationDetails<span class="op">;</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Creates a new cascading rollback result</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="fu">CascadingRollbackResult</span><span class="op">(</span><span class="dt">final</span> <span class="dt">boolean</span> overallSuccess<span class="op">,</span> <span class="dt">final</span> <span class="bu">String</span> primaryClassName<span class="op">,</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> individualResults<span class="op">,</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> rollbackExecutionOrder<span class="op">,</span> <span class="dt">final</span> <span class="bu">Duration</span> totalDuration<span class="op">,</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> Instant startTime<span class="op">,</span> <span class="dt">final</span> Instant endTime<span class="op">,</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="dt">int</span> classesSuccessfullyRolledBack<span class="op">,</span> <span class="dt">final</span> <span class="dt">int</span> classesThatFailedRollback<span class="op">,</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>ConflictResolutionResult<span class="op">&gt;</span> conflictResolutions<span class="op">,</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;&gt;</span> discoveredDependencies<span class="op">,</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>                                   <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">,</span> <span class="dt">final</span> <span class="bu">String</span> operationDetails<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">overallSuccess</span> <span class="op">=</span> overallSuccess<span class="op">;</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">primaryClassName</span> <span class="op">=</span> primaryClassName<span class="op">;</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">individualResults</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">CopyOnWriteArrayList</span><span class="op">&lt;&gt;(</span>individualResults<span class="op">);</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">rollbackExecutionOrder</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">CopyOnWriteArrayList</span><span class="op">&lt;&gt;(</span>rollbackExecutionOrder<span class="op">);</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">totalDuration</span> <span class="op">=</span> totalDuration<span class="op">;</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">startTime</span> <span class="op">=</span> startTime<span class="op">;</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">endTime</span> <span class="op">=</span> endTime<span class="op">;</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">classesSuccessfullyRolledBack</span> <span class="op">=</span> classesSuccessfullyRolledBack<span class="op">;</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">classesThatFailedRollback</span> <span class="op">=</span> classesThatFailedRollback<span class="op">;</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">conflictResolutions</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">CopyOnWriteArrayList</span><span class="op">&lt;&gt;(</span>conflictResolutions<span class="op">);</span></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">discoveredDependencies</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">ConcurrentHashMap</span><span class="op">&lt;&gt;(</span>discoveredDependencies<span class="op">);</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">warnings</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">CopyOnWriteArrayList</span><span class="op">&lt;&gt;(</span>warnings<span class="op">);</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">operationDetails</span> <span class="op">=</span> operationDetails<span class="op">;</span></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Creates a successful cascading rollback result</span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> CascadingRollbackResult <span class="fu">success</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> primaryClassName<span class="op">,</span></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> individualResults<span class="op">,</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> executionOrder<span class="op">,</span></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">Duration</span> totalDuration<span class="op">,</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> Instant startTime<span class="op">,</span> <span class="dt">final</span> Instant endTime<span class="op">,</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>ConflictResolutionResult<span class="op">&gt;</span> conflictResolutions<span class="op">,</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;&gt;</span> discoveredDependencies<span class="op">,</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">,</span> <span class="dt">final</span> <span class="bu">String</span> operationDetails<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">new</span> <span class="fu">CascadingRollbackResult</span><span class="op">(</span><span class="kw">true</span><span class="op">,</span> primaryClassName<span class="op">,</span> individualResults<span class="op">,</span> executionOrder<span class="op">,</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>                                         totalDuration<span class="op">,</span> startTime<span class="op">,</span> endTime<span class="op">,</span> individualResults<span class="op">.</span><span class="fu">size</span><span class="op">(),</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a>                                         conflictResolutions<span class="op">,</span> discoveredDependencies<span class="op">,</span> warnings<span class="op">,</span> operationDetails<span class="op">);</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Creates a failed cascading rollback result</span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> CascadingRollbackResult <span class="fu">failure</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> primaryClassName<span class="op">,</span></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> individualResults<span class="op">,</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> executionOrder<span class="op">,</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">Duration</span> totalDuration<span class="op">,</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> Instant startTime<span class="op">,</span> <span class="dt">final</span> Instant endTime<span class="op">,</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="dt">int</span> successfulCount<span class="op">,</span> <span class="dt">final</span> <span class="dt">int</span> failedCount<span class="op">,</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>ConflictResolutionResult<span class="op">&gt;</span> conflictResolutions<span class="op">,</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;&gt;</span> discoveredDependencies<span class="op">,</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a>                                                <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">,</span> <span class="dt">final</span> <span class="bu">String</span> operationDetails<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">new</span> <span class="fu">CascadingRollbackResult</span><span class="op">(</span><span class="kw">false</span><span class="op">,</span> primaryClassName<span class="op">,</span> individualResults<span class="op">,</span> executionOrder<span class="op">,</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a>                                         totalDuration<span class="op">,</span> startTime<span class="op">,</span> endTime<span class="op">,</span> successfulCount<span class="op">,</span> failedCount<span class="op">,</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a>                                         conflictResolutions<span class="op">,</span> discoveredDependencies<span class="op">,</span> warnings<span class="op">,</span> operationDetails<span class="op">);</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the total number of classes involved in the rollback</span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getTotalClassesInvolved</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> classesSuccessfullyRolledBack <span class="op">+</span> classesThatFailedRollback<span class="op">;</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the success rate of the cascading rollback as a percentage</span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getSuccessRate</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>        <span class="dt">final</span> <span class="dt">int</span> total <span class="op">=</span> <span class="fu">getTotalClassesInvolved</span><span class="op">();</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>total <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="fl">100.0</span><span class="op">;</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">(</span><span class="dt">double</span><span class="op">)</span> classesSuccessfullyRolledBack <span class="op">/</span> total <span class="op">*</span> <span class="fl">100.0</span><span class="op">;</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether the rollback had partial success</span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">hasPartialSuccess</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> classesSuccessfullyRolledBack <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> classesThatFailedRollback <span class="op">&gt;</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether conflicts were encountered during rollback</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">hadConflicts</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">!</span>conflictResolutions<span class="op">.</span><span class="fu">isEmpty</span><span class="op">();</span></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the number of conflicts that were resolved</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getResolvedConflictCount</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">(</span><span class="dt">int</span><span class="op">)</span> conflictResolutions<span class="op">.</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a>                                      <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>ConflictResolutionResult<span class="op">::</span>isResolved<span class="op">)</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>                                      <span class="op">.</span><span class="fu">count</span><span class="op">();</span></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the number of unresolved conflicts</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getUnresolvedConflictCount</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> conflictResolutions<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">-</span> <span class="fu">getResolvedConflictCount</span><span class="op">();</span></span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether the operation had warnings</span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">hasWarnings</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">!</span>warnings<span class="op">.</span><span class="fu">isEmpty</span><span class="op">();</span></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the number of warnings</span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getWarningCount</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> warnings<span class="op">.</span><span class="fu">size</span><span class="op">();</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether new dependencies were discovered during rollback</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">discoveredNewDependencies</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">!</span>discoveredDependencies<span class="op">.</span><span class="fu">isEmpty</span><span class="op">();</span></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the total number of discovered dependencies</span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getDiscoveredDependencyCount</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> discoveredDependencies<span class="op">.</span><span class="fu">values</span><span class="op">().</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>                                   <span class="op">.</span><span class="fu">mapToInt</span><span class="op">(</span><span class="bu">List</span><span class="op">::</span>size<span class="op">)</span></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>                                   <span class="op">.</span><span class="fu">sum</span><span class="op">();</span></span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the depth of the dependency chain</span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getDependencyChainDepth</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> rollbackExecutionOrder<span class="op">.</span><span class="fu">size</span><span class="op">();</span></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns the average time per class rollback</span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">Duration</span> <span class="fu">getAverageTimePerClass</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a>        <span class="dt">final</span> <span class="dt">int</span> total <span class="op">=</span> <span class="fu">getTotalClassesInvolved</span><span class="op">();</span></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>total <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">Duration</span><span class="op">.</span><span class="fu">ZERO</span><span class="op">;</span></span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> totalDuration<span class="op">.</span><span class="fu">dividedBy</span><span class="op">(</span>total<span class="op">);</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns rollback results for failed classes only</span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> <span class="fu">getFailedRollbacks</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> individualResults<span class="op">.</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a>                               <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>result <span class="op">-&gt;</span> <span class="op">!</span>result<span class="op">.</span><span class="fu">isSuccess</span><span class="op">())</span></span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a>                               <span class="op">.</span><span class="fu">toList</span><span class="op">();</span></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns rollback results for successful classes only</span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">List</span><span class="op">&lt;</span>RollbackResult<span class="op">&gt;</span> <span class="fu">getSuccessfulRollbacks</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> individualResults<span class="op">.</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a>                               <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>RollbackResult<span class="op">::</span>isSuccess<span class="op">)</span></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a>                               <span class="op">.</span><span class="fu">toList</span><span class="op">();</span></span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether the rollback was complex <span class="co">(</span>multiple classes with dependencies<span class="co">)</span></span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">isComplexRollback</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fu">getTotalClassesInvolved</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">1</span> <span class="op">&amp;&amp;</span> <span class="op">(</span><span class="fu">hadConflicts</span><span class="op">()</span> <span class="op">||</span> <span class="fu">discoveredNewDependencies</span><span class="op">());</span></span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether the rollback operation was fast</span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">isFastRollback</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> totalDuration<span class="op">.</span><span class="fu">toSeconds</span><span class="op">()</span> <span class="op">&lt;</span> <span class="dv">5</span><span class="op">;</span> <span class="co">// Less than 5 seconds</span></span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns whether the rollback operation was slow</span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">isSlowRollback</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> totalDuration<span class="op">.</span><span class="fu">toSeconds</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">30</span><span class="op">;</span> <span class="co">// More than 30 seconds</span></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns a summary description of the cascading rollback</span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getSummary</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>overallSuccess<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span><span class="st">&quot;Cascading rollback successful: </span><span class="sc">%d</span><span class="st"> classes rolled back in </span><span class="sc">%d</span><span class="st">ms&quot;</span><span class="op">,</span></span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a>                               classesSuccessfullyRolledBack<span class="op">,</span> totalDuration<span class="op">.</span><span class="fu">toMillis</span><span class="op">());</span></span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span><span class="fu">hasPartialSuccess</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span><span class="st">&quot;Partial cascading rollback: </span><span class="sc">%d</span><span class="st">/</span><span class="sc">%d</span><span class="st"> classes rolled back in </span><span class="sc">%d</span><span class="st">ms&quot;</span><span class="op">,</span></span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a>                               classesSuccessfullyRolledBack<span class="op">,</span> <span class="fu">getTotalClassesInvolved</span><span class="op">(),</span> totalDuration<span class="op">.</span><span class="fu">toMillis</span><span class="op">());</span></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span><span class="st">&quot;Cascading rollback failed: </span><span class="sc">%d</span><span class="st"> classes failed to roll back&quot;</span><span class="op">,</span></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a>                               classesThatFailedRollback<span class="op">);</span></span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Returns detailed performance metrics</span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getPerformanceMetrics</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span></span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Performance: </span><span class="sc">%d</span><span class="st"> classes, </span><span class="sc">%.1f%%</span><span class="st"> success, </span><span class="sc">%d</span><span class="st">ms total (</span><span class="sc">%.1f</span><span class="st">ms/class), </span><span class="sc">%d</span><span class="st"> conflicts, </span><span class="sc">%d</span><span class="st"> warnings&quot;</span><span class="op">,</span></span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a>            <span class="fu">getTotalClassesInvolved</span><span class="op">(),</span></span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a>            <span class="fu">getSuccessRate</span><span class="op">(),</span></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a>            totalDuration<span class="op">.</span><span class="fu">toMillis</span><span class="op">(),</span></span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a>            <span class="fu">getAverageTimePerClass</span><span class="op">().</span><span class="fu">toMillis</span><span class="op">(),</span></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a>            conflictResolutions<span class="op">.</span><span class="fu">size</span><span class="op">(),</span></span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a>            warnings<span class="op">.</span><span class="fu">size</span><span class="op">()</span></span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">toString</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&quot;CascadingRollbackResult{&quot;</span> <span class="op">+</span></span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;success=&quot;</span> <span class="op">+</span> overallSuccess <span class="op">+</span></span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, primaryClass=&#39;&quot;</span> <span class="op">+</span> primaryClassName <span class="op">+</span> <span class="ch">&#39;\&#39;&#39;</span> <span class="op">+</span></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, totalClasses=&quot;</span> <span class="op">+</span> <span class="fu">getTotalClassesInvolved</span><span class="op">()</span> <span class="op">+</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, successfulClasses=&quot;</span> <span class="op">+</span> classesSuccessfullyRolledBack <span class="op">+</span></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, failedClasses=&quot;</span> <span class="op">+</span> classesThatFailedRollback <span class="op">+</span></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, conflicts=&quot;</span> <span class="op">+</span> conflictResolutions<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">+</span></span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;, duration=&quot;</span> <span class="op">+</span> totalDuration<span class="op">.</span><span class="fu">toMillis</span><span class="op">()</span> <span class="op">+</span> <span class="st">&quot;ms&quot;</span> <span class="op">+</span></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a>               <span class="ch">&#39;}&#39;</span><span class="op">;</span></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="usage-examples">Usage Examples</h1>
<h2 id="analyzing-cascading-rollback-results">Analyzing Cascading
Rollback Results</h2>
<p>// Process cascading rollback outcome CascadingRollbackResult result
= rollbackManager.performCascadingRollback(primaryClass,
dependentClasses);</p>
<p>logger.info("Cascading rollback completed: {}", result.getSummary());
logger.info("Performance metrics: {}",
result.getPerformanceMetrics());</p>
<p>// Analyze success characteristics if (result.isOverallSuccess()) {
logger.info("All {} classes successfully rolled back",
result.getTotalClassesInvolved());</p>
<p>if (result.isComplexRollback()) { logger.info("Complex rollback
succeeded with {} dependency levels", result.getDependencyChainDepth());
}</p>
<p>if (result.hadConflicts()) { logger.info("Resolved {} conflicts
during rollback", result.getResolvedConflictCount()); }</p>
<p>} else if (result.hasPartialSuccess()) { logger.warn("Partial
rollback success: {:.1f}% success rate", result.getSuccessRate());</p>
<p>// Analyze failed rollbacks List&lt;RollbackResult&gt; failed =
result.getFailedRollbacks(); failed.forEach(failedResult -&gt;
logger.error("Failed to rollback class: {} - {}",
failedResult.getClassName(), failedResult.getErrorMessage()));</p>
<p>} else { logger.error("Cascading rollback completely failed");</p>
<p>if (result.getUnresolvedConflictCount() &gt; 0) {
logger.error("Unresolved conflicts: {}",
result.getUnresolvedConflictCount()); } }</p>
<p>// Performance analysis if (result.isSlowRollback()) {
logger.warn("Slow cascading rollback detected: {}ms for {} classes",
result.getTotalDuration().toMillis(), result.getTotalClassesInvolved());
}</p>
<h2 id="conflict-resolution-analysis">Conflict Resolution Analysis</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">analyzeConflictResolution</span><span class="op">(</span>CascadingRollbackResult result<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>result<span class="op">.</span><span class="fu">hadConflicts</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;Conflict Resolution Analysis:&quot;</span><span class="op">);</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;  Total conflicts: {}&quot;</span><span class="op">,</span> result<span class="op">.</span><span class="fu">getConflictResolutions</span><span class="op">().</span><span class="fu">size</span><span class="op">());</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;  Resolved: {}&quot;</span><span class="op">,</span> result<span class="op">.</span><span class="fu">getResolvedConflictCount</span><span class="op">());</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;  Unresolved: {}&quot;</span><span class="op">,</span> result<span class="op">.</span><span class="fu">getUnresolvedConflictCount</span><span class="op">());</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Analyze individual conflict resolutions</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span>ConflictResolutionResult conflictResolution <span class="op">:</span> result<span class="op">.</span><span class="fu">getConflictResolutions</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>conflictResolution<span class="op">.</span><span class="fu">isResolved</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;  ‚úì Resolved: {} using strategy {}&quot;</span><span class="op">,</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                           conflictResolution<span class="op">.</span><span class="fu">getConflictDescription</span><span class="op">(),</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                           conflictResolution<span class="op">.</span><span class="fu">getResolutionStrategy</span><span class="op">());</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                logger<span class="op">.</span><span class="fu">warn</span><span class="op">(</span><span class="st">&quot;  ‚úó Unresolved: {} - {}&quot;</span><span class="op">,</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                           conflictResolution<span class="op">.</span><span class="fu">getConflictDescription</span><span class="op">(),</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                           conflictResolution<span class="op">.</span><span class="fu">getFailureReason</span><span class="op">());</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Report conflict resolution effectiveness</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">double</span> resolutionRate <span class="op">=</span> <span class="op">(</span><span class="dt">double</span><span class="op">)</span> result<span class="op">.</span><span class="fu">getResolvedConflictCount</span><span class="op">()</span> <span class="op">/</span> </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                               result<span class="op">.</span><span class="fu">getConflictResolutions</span><span class="op">().</span><span class="fu">size</span><span class="op">()</span> <span class="op">*</span> <span class="fl">100.0</span><span class="op">;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        logger<span class="op">.</span><span class="fu">info</span><span class="op">(</span><span class="st">&quot;  Conflict resolution rate: {:.1f}%&quot;</span><span class="op">,</span> resolutionRate<span class="op">);</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="dependency-discovery-analysis">Dependency Discovery
Analysis</h2>
<p>public void analyzeDependencyDiscovery(CascadingRollbackResult
result) { if (result.discoveredNewDependencies()) {
logger.info("Dependency Discovery Analysis:"); logger.info(" Classes
with discovered dependencies: {}",
result.getDiscoveredDependencies().size()); logger.info(" Total
discovered dependencies: {}",
result.getDiscoveredDependencyCount());</p>
<p>// Log discovered dependencies
result.getDiscoveredDependencies().forEach((className, dependencies)
-&gt; { logger.info(" {} depends on: {}", className, dependencies);
});</p>
<p>// Check if discovery affected rollback complexity if
(result.isComplexRollback()) { logger.info(" Dependency discovery
increased rollback complexity"); logger.info(" Final dependency chain
depth: {}", result.getDependencyChainDepth()); }</p>
<p>// Update dependency tracking for future operations
dependencyTracker.updateDiscoveredDependencies(result.getDiscoveredDependencies());
} }</p>
<h2 id="performance-monitoring-and-optimization">Performance Monitoring
and Optimization</h2>
<div class="sourceCode" id="cb3"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">monitorCascadingRollbackPerformance</span><span class="op">(</span>CascadingRollbackResult result<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Record metrics</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    cascadingRollbackMetrics<span class="op">.</span><span class="fu">recordOperation</span><span class="op">(</span>result<span class="op">);</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Performance alerting</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>result<span class="op">.</span><span class="fu">isSlowRollback</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        alertManager<span class="op">.</span><span class="fu">sendPerformanceAlert</span><span class="op">(</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Slow cascading rollback detected&quot;</span><span class="op">,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            result<span class="op">.</span><span class="fu">getPrimaryClassName</span><span class="op">(),</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            result<span class="op">.</span><span class="fu">getTotalDuration</span><span class="op">()</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Success rate monitoring</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>result<span class="op">.</span><span class="fu">getSuccessRate</span><span class="op">()</span> <span class="op">&lt;</span> <span class="fl">95.0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        alertManager<span class="op">.</span><span class="fu">sendReliabilityAlert</span><span class="op">(</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Low cascading rollback success rate&quot;</span><span class="op">,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            result<span class="op">.</span><span class="fu">getPrimaryClassName</span><span class="op">(),</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>            result<span class="op">.</span><span class="fu">getSuccessRate</span><span class="op">()</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Conflict monitoring</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>result<span class="op">.</span><span class="fu">getUnresolvedConflictCount</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        alertManager<span class="op">.</span><span class="fu">sendAlert</span><span class="op">(</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Unresolved rollback conflicts&quot;</span><span class="op">,</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>            <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span><span class="st">&quot;Primary class: </span><span class="sc">%s</span><span class="st">, Unresolved: </span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                         result<span class="op">.</span><span class="fu">getPrimaryClassName</span><span class="op">(),</span> result<span class="op">.</span><span class="fu">getUnresolvedConflictCount</span><span class="op">())</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Complexity monitoring</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>result<span class="op">.</span><span class="fu">isComplexRollback</span><span class="op">()</span> <span class="op">&amp;&amp;</span> result<span class="op">.</span><span class="fu">getDependencyChainDepth</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>        alertManager<span class="op">.</span><span class="fu">sendAlert</span><span class="op">(</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;High rollback complexity&quot;</span><span class="op">,</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>            <span class="bu">String</span><span class="op">.</span><span class="fu">format</span><span class="op">(</span><span class="st">&quot;Dependency chain depth: </span><span class="sc">%d</span><span class="st"> for class: </span><span class="sc">%s</span><span class="st">&quot;</span><span class="op">,</span> </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>                         result<span class="op">.</span><span class="fu">getDependencyChainDepth</span><span class="op">(),</span> result<span class="op">.</span><span class="fu">getPrimaryClassName</span><span class="op">())</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">);</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="historical-analysis-and-trend-detection">Historical Analysis and
Trend Detection</h2>
<p>public CascadingRollbackTrendReport
analyzeTrends(List&lt;CascadingRollbackResult&gt; historicalResults) {
CascadingRollbackTrendReport report = new
CascadingRollbackTrendReport();</p>
<p>// Calculate trend metrics double avgSuccessRate =
historicalResults.stream()
.mapToDouble(CascadingRollbackResult::getSuccessRate) .average()
.orElse(0.0);</p>
<p>Duration avgDuration = Duration.ofMillis( (long)
historicalResults.stream() .mapToLong(result -&gt;
result.getTotalDuration().toMillis()) .average() .orElse(0.0) );</p>
<p>double avgComplexity = historicalResults.stream()
.mapToDouble(CascadingRollbackResult::getDependencyChainDepth)
.average() .orElse(0.0);</p>
<p>// Identify patterns long complexRollbacks =
historicalResults.stream()
.filter(CascadingRollbackResult::isComplexRollback) .count();</p>
<p>long conflictedRollbacks = historicalResults.stream()
.filter(CascadingRollbackResult::hadConflicts) .count();</p>
<p>// Generate insights report.setAverageSuccessRate(avgSuccessRate);
report.setAverageDuration(avgDuration);
report.setAverageComplexity(avgComplexity);
report.setComplexRollbackRate((double) complexRollbacks /
historicalResults.size() * 100.0); report.setConflictRate((double)
conflictedRollbacks / historicalResults.size() * 100.0);</p>
<p>// Generate recommendations if (avgSuccessRate &lt; 95.0) {
report.addRecommendation("Consider improving rollback reliability -
success rate below 95%"); }</p>
<p>if (avgComplexity &gt; 3.0) { report.addRecommendation("High average
dependency complexity - consider dependency optimization"); }</p>
<p>if (report.getConflictRate() &gt; 20.0) {
report.addRecommendation("High conflict rate - improve conflict
prevention strategies"); }</p>
<p>return report; }</p>
<h1 id="architecture-notes">Architecture Notes</h1>
<h2 id="multi-class-coordination">Multi-Class Coordination</h2>
<ul>
<li>Comprehensive tracking of rollback operations across class
hierarchies</li>
<li>Dependency chain analysis and execution order optimization</li>
<li>Conflict detection and resolution coordination</li>
<li>Performance metrics for complex rollback scenarios</li>
</ul>
<h2 id="operational-intelligence">Operational Intelligence</h2>
<ul>
<li>Rich metadata about rollback execution and outcomes</li>
<li>Dependency discovery and tracking for future optimization</li>
<li>Conflict resolution analysis for strategy improvement</li>
<li>Performance monitoring and trend analysis capabilities</li>
</ul>
<h2 id="system-reliability">System Reliability</h2>
<ul>
<li>Clear success/failure reporting with detailed context</li>
<li>Partial success handling for robust error recovery</li>
<li>Warning and conflict tracking for operational awareness</li>
<li>Integration with monitoring and alerting systems for proactive
management</li>
</ul>
</main>
<div class="footer">
    ByteHot - Revolutionary JVM Hot-Swapping | 
    <a href="https://github.com/rydnr/bytehot">GitHub</a> | 
    <a href="https://rydnr.github.io/bytehot/docs/">Documentation</a> | 
    <a href="https://rydnr.github.io/bytehot/javadocs/">API Docs</a>
</div>
</body></html>
