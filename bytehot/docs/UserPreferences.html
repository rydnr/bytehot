<!DOCTYPE html>
<html>
<head>
    <title>UserPreferences - ByteHot Documentation</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
<div class="navigation">
    <a href="../index.html">üè† Home</a>
    <a href="../implementation.html">üèóÔ∏è Implementation</a>
    <a href="../journal.html">üìî Journal</a>
    <a href="../docs/">üìö Docs</a>
    <a href="../javadocs/">üìñ Javadocs</a>
    <a href="https://github.com/rydnr/bytehot">üîó GitHub</a>
</div>
<main>
<h1 id="overview">Overview</h1>
<p>The <code>UserPreferences</code> class serves as ByteHot's
sophisticated user configuration and personalization value object,
providing comprehensive preference management, type-safe configuration
access, and advanced personalization capabilities for user experience
optimization and system customization. This critical domain value object
encapsulates user configuration logic, preference validation mechanisms,
and sophisticated customization intelligence that enable precise user
experience personalization and system adaptation. As the personalization
foundation for ByteHot's user management system, it enables
comprehensive user customization while maintaining clean domain
boundaries and supporting advanced preference analytics, configuration
intelligence, and operational personalization throughout the entire
intelligent hot-swap system lifecycle.</p>
<h1 id="domain-architecture-role">Domain Architecture Role</h1>
<h2
id="user-configuration-and-personalization-management-foundation">User
Configuration and Personalization Management Foundation</h2>
<p>UserPreferences serves as the comprehensive user configuration and
personalization management foundation:</p>
<ul>
<li>Provides sophisticated preference management for user experience
customization and system personalization</li>
<li>Enables comprehensive configuration validation and consistency
through type-safe preference access and management</li>
<li>Supports advanced personalization intelligence and user experience
optimization through domain-driven configuration</li>
<li>Acts as the authoritative foundation for user personalization
operations and configuration coordination</li>
</ul>
<h2 id="value-object-design-and-immutable-configuration-context">Value
Object Design and Immutable Configuration Context</h2>
<p>The class serves as the value object design and immutable
configuration context:</p>
<ul>
<li>Implements sophisticated value object patterns with immutable
preference encapsulation and update operations</li>
<li>Provides comprehensive preference validation and consistency through
domain-driven design principles</li>
<li>Enables preference composition and correlation capabilities for
complex personalization scenarios</li>
<li>Supports configuration optimization and performance enhancement
through efficient value object design</li>
</ul>
<h2 id="user-experience-and-system-customization-hub">User Experience
and System Customization Hub</h2>
<p>The implementation provides user experience and system customization
capabilities:</p>
<ul>
<li>Enables sophisticated user experience customization through
comprehensive preference management and intelligence</li>
<li>Supports advanced system adaptation and operational customization
through configuration-driven behavior</li>
<li>Provides foundation for personalization analytics and user
experience optimization through preference intelligence</li>
<li>Enables intelligent configuration monitoring and optimization
through preference-driven correlation and assessment</li>
</ul>
<h1 id="user-preferences-structure-and-configuration-context">User
Preferences Structure and Configuration Context</h1>
<h2 id="core-preference-storage-and-management-context">Core Preference
Storage and Management Context</h2>
<div class="sourceCode" id="cb1"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> The preferences map for comprehensive user configuration storage and management</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">@Getter</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> preferences<span class="op">;</span></span></code></pre></div>
<h2 id="default-configuration-and-system-initialization">Default
Configuration and System Initialization</h2>
<div class="sourceCode" id="cb2"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates default user preferences with comprehensive system configuration</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> default preferences with optimal system settings and user experience defaults</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> UserPreferences <span class="fu">defaults</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> defaultPrefs <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;analytics.enabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.autoRetry&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;INFO&quot;</span><span class="op">);</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>defaultPrefs<span class="op">)</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="enhanced-default-configuration-and-advanced-settings">Enhanced
Default Configuration and Advanced Settings</h2>
<div class="sourceCode" id="cb3"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates comprehensive default user preferences with advanced system configuration</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> enhanced default preferences with comprehensive feature settings</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> UserPreferences <span class="fu">enhancedDefaults</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> defaultPrefs <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Core system preferences</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;analytics.enabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.autoRetry&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;INFO&quot;</span><span class="op">);</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Advanced hot-swap preferences</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.retryAttempts&quot;</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.timeout&quot;</span><span class="op">,</span> <span class="dv">30000L</span><span class="op">);</span> <span class="co">// 30 seconds</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.verboseLogging&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;hotswap.backupEnabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">// User experience preferences</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;ui.theme&quot;</span><span class="op">,</span> <span class="st">&quot;system&quot;</span><span class="op">);</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;ui.animations&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;ui.compactMode&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;ui.language&quot;</span><span class="op">,</span> <span class="st">&quot;en&quot;</span><span class="op">);</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Performance preferences</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;performance.cacheEnabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;performance.parallelProcessing&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;performance.memoryOptimization&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Development preferences</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;development.autoReload&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;development.showDebugInfo&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    defaultPrefs<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;development.enableExperimentalFeatures&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>defaultPrefs<span class="op">)</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates developer<span class="co">-</span>optimized preferences for development environments</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> developer preferences with development<span class="co">-</span>focused configuration</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> UserPreferences <span class="fu">developerDefaults</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    UserPreferences base <span class="op">=</span> <span class="fu">enhancedDefaults</span><span class="op">();</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> base<span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;DEBUG&quot;</span><span class="op">)</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;hotswap.verboseLogging&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;development.showDebugInfo&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;development.enableExperimentalFeatures&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;analytics.enabled&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span> <span class="co">// Privacy-focused for development</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates production<span class="co">-</span>optimized preferences for production environments</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> production preferences with performance and reliability focus</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> UserPreferences <span class="fu">productionDefaults</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    UserPreferences base <span class="op">=</span> <span class="fu">enhancedDefaults</span><span class="op">();</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> base<span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;WARN&quot;</span><span class="op">)</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;hotswap.verboseLogging&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">)</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;development.showDebugInfo&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">)</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;development.enableExperimentalFeatures&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">)</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;performance.memoryOptimization&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>              <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;analytics.enabled&quot;</span><span class="op">,</span> <span class="kw">true</span><span class="op">);</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="preference-management-and-update-operations">Preference
Management and Update Operations</h1>
<h2
id="immutable-preference-update-and-configuration-management">Immutable
Preference Update and Configuration Management</h2>
<div class="sourceCode" id="cb4"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Updates a preference value<span class="co">,</span> returning a new immutable instance</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for configuration identification and management</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">value</span><span class="co"> </span>the preference value for configuration setting and customization</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> new preferences with updated value for immutable configuration management</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> UserPreferences <span class="fu">update</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="bu">Object</span> value<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> newPreferences <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;(</span><span class="kw">this</span><span class="op">.</span><span class="fu">preferences</span><span class="op">);</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    newPreferences<span class="op">.</span><span class="fu">put</span><span class="op">(</span>key<span class="op">,</span> value<span class="op">);</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>newPreferences<span class="op">)</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Updates multiple preferences at once for batch configuration management</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">updates</span><span class="co"> </span>map of preference updates for batch configuration operations</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> new preferences with all updates applied for efficient batch processing</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> UserPreferences <span class="fu">updateMultiple</span><span class="op">(</span><span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> updates<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> newPreferences <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;(</span><span class="kw">this</span><span class="op">.</span><span class="fu">preferences</span><span class="op">);</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    newPreferences<span class="op">.</span><span class="fu">putAll</span><span class="op">(</span>updates<span class="op">);</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>newPreferences<span class="op">)</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Removes a preference key for configuration cleanup and management</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key to remove for configuration management</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> new preferences without the specified key for configuration cleanup</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> UserPreferences <span class="fu">remove</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> newPreferences <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;(</span><span class="kw">this</span><span class="op">.</span><span class="fu">preferences</span><span class="op">);</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    newPreferences<span class="op">.</span><span class="fu">remove</span><span class="op">(</span>key<span class="op">);</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>newPreferences<span class="op">)</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Merges with another preferences object for configuration composition</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">other</span><span class="co"> </span>other preferences to merge for configuration combination</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> new preferences with merged configuration for composition management</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> UserPreferences <span class="fu">merge</span><span class="op">(</span><span class="dt">final</span> UserPreferences other<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> newPreferences <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;(</span><span class="kw">this</span><span class="op">.</span><span class="fu">preferences</span><span class="op">);</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    newPreferences<span class="op">.</span><span class="fu">putAll</span><span class="op">(</span>other<span class="op">.</span><span class="fu">preferences</span><span class="op">);</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> UserPreferences<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">preferences</span><span class="op">(</span>newPreferences<span class="op">)</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1
id="type-safe-preference-access-and-intelligence-operations">Type-Safe
Preference Access and Intelligence Operations</h1>
<h2 id="generic-type-safe-access-and-validation">Generic Type-Safe
Access and Validation</h2>
<div class="sourceCode" id="cb5"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a preference value with type casting and validation</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for configuration retrieval</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">type</span><span class="co"> </span>the expected type for type safety and validation</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">&lt;T&gt;</span><span class="co"> </span>the type parameter for type<span class="co">-</span>safe configuration access</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the typed preference value for type<span class="co">-</span>safe configuration management</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="at">@SuppressWarnings</span><span class="op">(</span><span class="st">&quot;unchecked&quot;</span><span class="op">)</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="op">&lt;</span>T<span class="op">&gt;</span> T <span class="fu">get</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="bu">Class</span><span class="op">&lt;</span>T<span class="op">&gt;</span> type<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Object</span> value <span class="op">=</span> preferences<span class="op">.</span><span class="fu">get</span><span class="op">(</span>key<span class="op">);</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>value <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> type<span class="op">.</span><span class="fu">cast</span><span class="op">(</span>value<span class="op">);</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a preference value with default fallback for robust configuration access</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for configuration retrieval</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">type</span><span class="co"> </span>the expected type for type safety and validation</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default value for fallback configuration</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">&lt;T&gt;</span><span class="co"> </span>the type parameter for type<span class="co">-</span>safe configuration access</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the typed preference value or default for robust configuration management</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="op">&lt;</span>T<span class="op">&gt;</span> T <span class="fu">getOrDefault</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="bu">Class</span><span class="op">&lt;</span>T<span class="op">&gt;</span> type<span class="op">,</span> <span class="dt">final</span> T defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    T value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> type<span class="op">);</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2
id="specialized-type-safe-accessors-and-configuration-intelligence">Specialized
Type-Safe Accessors and Configuration Intelligence</h2>
<div class="sourceCode" id="cb6"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a boolean preference value with default fallback</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for boolean configuration retrieval</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the boolean value for boolean configuration management</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">getBoolean</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Boolean</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Boolean</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a boolean preference value with custom default</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for boolean configuration retrieval</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default boolean value for fallback configuration</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the boolean value or default for robust boolean configuration</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">getBoolean</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="dt">boolean</span> defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">final</span> <span class="bu">Boolean</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Boolean</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a string preference value for string configuration management</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for string configuration retrieval</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the string value for string configuration management</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">String</span> <span class="fu">getString</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">String</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a string preference value with default fallback</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for string configuration retrieval</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default string value for fallback configuration</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the string value or default for robust string configuration</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">String</span> <span class="fu">getString</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="bu">String</span> defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">String</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets an integer preference value for numeric configuration management</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for integer configuration retrieval</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the integer value for integer configuration management</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">Integer</span> <span class="fu">getInteger</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets an integer preference value with default fallback</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for integer configuration retrieval</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default integer value for fallback configuration</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the integer value or default for robust integer configuration</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">getInteger</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="dt">int</span> defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Integer</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a long preference value for long numeric configuration management</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for long configuration retrieval</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the long value for long configuration management</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">Long</span> <span class="fu">getLong</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Long</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a long preference value with default fallback</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for long configuration retrieval</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default long value for fallback configuration</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the long value or default for robust long configuration</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">long</span> <span class="fu">getLong</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="dt">long</span> defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Long</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Long</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets a double preference value for floating<span class="co">-</span>point configuration management</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for double configuration retrieval</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">defaultValue</span><span class="co"> </span>the default double value for fallback configuration</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> the double value or default for robust double configuration</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">double</span> <span class="fu">getDouble</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">,</span> <span class="dt">final</span> <span class="dt">double</span> defaultValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Double</span> value <span class="op">=</span> <span class="fu">get</span><span class="op">(</span>key<span class="op">,</span> <span class="bu">Double</span><span class="op">.</span><span class="fu">class</span><span class="op">);</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> value <span class="op">:</span> defaultValue<span class="op">;</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1
id="advanced-preference-intelligence-and-configuration-analysis">Advanced
Preference Intelligence and Configuration Analysis</h1>
<h2
id="preference-validation-and-configuration-health-assessment">Preference
Validation and Configuration Health Assessment</h2>
<div class="sourceCode" id="cb7"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Checks if a preference key exists for configuration validation</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">key</span><span class="co"> </span>the preference key for existence validation</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> true if the preference exists for configuration validation</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">hasPreference</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> key<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> preferences<span class="op">.</span><span class="fu">containsKey</span><span class="op">(</span>key<span class="op">);</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets all preference keys for configuration analysis and management</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> set of all preference keys for configuration intelligence</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">Set</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> <span class="fu">getPreferenceKeys</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">HashSet</span><span class="op">&lt;&gt;(</span>preferences<span class="op">.</span><span class="fu">keySet</span><span class="op">());</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets preferences by category prefix for organized configuration access</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">categoryPrefix</span><span class="co"> </span>the category prefix for filtered configuration retrieval</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> map of preferences matching the category for organized access</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> <span class="fu">getPreferencesByCategory</span><span class="op">(</span><span class="dt">final</span> <span class="bu">String</span> categoryPrefix<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> preferences<span class="op">.</span><span class="fu">entrySet</span><span class="op">().</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">filter</span><span class="op">(</span>entry <span class="op">-&gt;</span> entry<span class="op">.</span><span class="fu">getKey</span><span class="op">().</span><span class="fu">startsWith</span><span class="op">(</span>categoryPrefix<span class="op">))</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">collect</span><span class="op">(</span>java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">stream</span><span class="op">.</span><span class="fu">Collectors</span><span class="op">.</span><span class="fu">toMap</span><span class="op">(</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>            <span class="bu">Map</span><span class="op">.</span><span class="fu">Entry</span><span class="op">::</span>getKey<span class="op">,</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>            <span class="bu">Map</span><span class="op">.</span><span class="fu">Entry</span><span class="op">::</span>getValue</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">));</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Validates preference values against expected types for configuration health</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> validation result with any type mismatches for configuration assessment</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> PreferenceValidationResult <span class="fu">validatePreferences</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> issues <span class="op">=</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings <span class="op">=</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Validate known boolean preferences</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> booleanKeys <span class="op">=</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;notification.enabled&quot;</span><span class="op">,</span> <span class="st">&quot;analytics.enabled&quot;</span><span class="op">,</span> <span class="st">&quot;hotswap.autoRetry&quot;</span><span class="op">,</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;hotswap.verboseLogging&quot;</span><span class="op">,</span> <span class="st">&quot;hotswap.backupEnabled&quot;</span><span class="op">,</span> <span class="st">&quot;ui.animations&quot;</span><span class="op">,</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;ui.compactMode&quot;</span><span class="op">,</span> <span class="st">&quot;performance.cacheEnabled&quot;</span><span class="op">,</span> <span class="st">&quot;performance.parallelProcessing&quot;</span><span class="op">,</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;performance.memoryOptimization&quot;</span><span class="op">,</span> <span class="st">&quot;development.autoReload&quot;</span><span class="op">,</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;development.showDebugInfo&quot;</span><span class="op">,</span> <span class="st">&quot;development.enableExperimentalFeatures&quot;</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">);</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="bu">String</span> key <span class="op">:</span> booleanKeys<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="fu">hasPreference</span><span class="op">(</span>key<span class="op">))</span> <span class="op">{</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>            <span class="bu">Object</span> value <span class="op">=</span> preferences<span class="op">.</span><span class="fu">get</span><span class="op">(</span>key<span class="op">);</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(!(</span>value <span class="kw">instanceof</span> <span class="bu">Boolean</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>                issues<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Preference &#39;&quot;</span> <span class="op">+</span> key <span class="op">+</span> <span class="st">&quot;&#39; should be boolean but is &quot;</span> <span class="op">+</span> value<span class="op">.</span><span class="fu">getClass</span><span class="op">().</span><span class="fu">getSimpleName</span><span class="op">());</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Validate known string preferences</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> stringKeys <span class="op">=</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;ui.theme&quot;</span><span class="op">,</span> <span class="st">&quot;ui.language&quot;</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="op">);</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="bu">String</span> key <span class="op">:</span> stringKeys<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="fu">hasPreference</span><span class="op">(</span>key<span class="op">))</span> <span class="op">{</span></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>            <span class="bu">Object</span> value <span class="op">=</span> preferences<span class="op">.</span><span class="fu">get</span><span class="op">(</span>key<span class="op">);</span></span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(!(</span>value <span class="kw">instanceof</span> <span class="bu">String</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>                issues<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Preference &#39;&quot;</span> <span class="op">+</span> key <span class="op">+</span> <span class="st">&quot;&#39; should be string but is &quot;</span> <span class="op">+</span> value<span class="op">.</span><span class="fu">getClass</span><span class="op">().</span><span class="fu">getSimpleName</span><span class="op">());</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> PreferenceValidationResult<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">isValid</span><span class="op">(</span>issues<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">issues</span><span class="op">(</span>issues<span class="op">)</span></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">warnings</span><span class="op">(</span>warnings<span class="op">)</span></span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">totalPreferences</span><span class="op">(</span>preferences<span class="op">.</span><span class="fu">size</span><span class="op">())</span></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets preference usage statistics for analytics and optimization</span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> statistics about preference usage and configuration patterns</span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> PreferenceStatistics <span class="fu">getStatistics</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> categoryCounts <span class="op">=</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> booleanCount <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> stringCount <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> numericCount <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="bu">Map</span><span class="op">.</span><span class="fu">Entry</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> entry <span class="op">:</span> preferences<span class="op">.</span><span class="fu">entrySet</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> key <span class="op">=</span> entry<span class="op">.</span><span class="fu">getKey</span><span class="op">();</span></span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Object</span> value <span class="op">=</span> entry<span class="op">.</span><span class="fu">getValue</span><span class="op">();</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Count by category</span></span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> category <span class="op">=</span> key<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;.&quot;</span><span class="op">)</span> <span class="op">?</span> key<span class="op">.</span><span class="fu">substring</span><span class="op">(</span><span class="dv">0</span><span class="op">,</span> key<span class="op">.</span><span class="fu">indexOf</span><span class="op">(</span><span class="st">&quot;.&quot;</span><span class="op">))</span> <span class="op">:</span> <span class="st">&quot;general&quot;</span><span class="op">;</span></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a>        categoryCounts<span class="op">.</span><span class="fu">merge</span><span class="op">(</span>category<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">::</span>sum<span class="op">);</span></span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Count by type</span></span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>value <span class="kw">instanceof</span> <span class="bu">Boolean</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>            booleanCount<span class="op">++;</span></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>value <span class="kw">instanceof</span> <span class="bu">String</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a>            stringCount<span class="op">++;</span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>value <span class="kw">instanceof</span> <span class="bu">Number</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a>            numericCount<span class="op">++;</span></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> PreferenceStatistics<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">totalPreferences</span><span class="op">(</span>preferences<span class="op">.</span><span class="fu">size</span><span class="op">())</span></span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">categoryCounts</span><span class="op">(</span>categoryCounts<span class="op">)</span></span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">booleanCount</span><span class="op">(</span>booleanCount<span class="op">)</span></span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">stringCount</span><span class="op">(</span>stringCount<span class="op">)</span></span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">numericCount</span><span class="op">(</span>numericCount<span class="op">)</span></span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="preference-analytics-value-objects">Preference Analytics Value
Objects</h2>
<div class="sourceCode" id="cb8"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/UserPreferences.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Preference validation result for configuration health assessment</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Builder</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">EqualsAndHashCode</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">ToString</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Getter</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="kw">class</span> PreferenceValidationResult <span class="op">{</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Whether all preferences are valid</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">boolean</span> isValid<span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> List of validation issues</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> issues<span class="op">;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> List of validation warnings</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Total number of preferences validated</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> totalPreferences<span class="op">;</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Preference statistics for analytics and optimization</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Builder</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">EqualsAndHashCode</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">ToString</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Getter</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="kw">class</span> PreferenceStatistics <span class="op">{</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Total number of preferences</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> totalPreferences<span class="op">;</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Count of preferences by category</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Integer</span><span class="op">&gt;</span> categoryCounts<span class="op">;</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Number of boolean preferences</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> booleanCount<span class="op">;</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Number of string preferences</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> stringCount<span class="op">;</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Number of numeric preferences</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> numericCount<span class="op">;</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="testing-and-validation-strategies">Testing and Validation
Strategies</h1>
<h2 id="preference-management-testing">Preference Management
Testing</h2>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldManagePreferences</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: Default preferences</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    UserPreferences prefs <span class="op">=</span> UserPreferences<span class="op">.</span><span class="fu">defaults</span><span class="op">();</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Updating preferences</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    UserPreferences updated <span class="op">=</span> prefs</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;hotswap.timeout&quot;</span><span class="op">,</span> <span class="dv">60000L</span><span class="op">)</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;ui.theme&quot;</span><span class="op">,</span> <span class="st">&quot;dark&quot;</span><span class="op">)</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">,</span> <span class="kw">false</span><span class="op">);</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should maintain immutability and update correctly</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>prefs<span class="op">.</span><span class="fu">getBoolean</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">)).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>updated<span class="op">.</span><span class="fu">getBoolean</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">)).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>updated<span class="op">.</span><span class="fu">getLong</span><span class="op">(</span><span class="st">&quot;hotswap.timeout&quot;</span><span class="op">,</span> <span class="dv">30000L</span><span class="op">)).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="dv">60000L</span><span class="op">);</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>updated<span class="op">.</span><span class="fu">getString</span><span class="op">(</span><span class="st">&quot;ui.theme&quot;</span><span class="op">)).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="st">&quot;dark&quot;</span><span class="op">);</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="type-safe-access-testing">Type-Safe Access Testing</h2>
<div class="sourceCode" id="cb10"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldProvideTypeSafeAccess</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: Preferences with various types</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    UserPreferences prefs <span class="op">=</span> UserPreferences<span class="op">.</span><span class="fu">enhancedDefaults</span><span class="op">();</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Accessing with type safety</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">boolean</span> notifications <span class="op">=</span> prefs<span class="op">.</span><span class="fu">getBoolean</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">);</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> logLevel <span class="op">=</span> prefs<span class="op">.</span><span class="fu">getString</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="st">&quot;INFO&quot;</span><span class="op">);</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> retryAttempts <span class="op">=</span> prefs<span class="op">.</span><span class="fu">getInteger</span><span class="op">(</span><span class="st">&quot;hotswap.retryAttempts&quot;</span><span class="op">,</span> <span class="dv">3</span><span class="op">);</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">long</span> timeout <span class="op">=</span> prefs<span class="op">.</span><span class="fu">getLong</span><span class="op">(</span><span class="st">&quot;hotswap.timeout&quot;</span><span class="op">,</span> <span class="dv">30000L</span><span class="op">);</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should provide correct typed values</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>notifications<span class="op">).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>logLevel<span class="op">).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="st">&quot;INFO&quot;</span><span class="op">);</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>retryAttempts<span class="op">).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="dv">3</span><span class="op">);</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>timeout<span class="op">).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="dv">30000L</span><span class="op">);</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="preference-validation-testing">Preference Validation
Testing</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldValidatePreferences</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: Preferences with some invalid types</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    UserPreferences prefs <span class="op">=</span> UserPreferences<span class="op">.</span><span class="fu">defaults</span><span class="op">()</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;notification.enabled&quot;</span><span class="op">,</span> <span class="st">&quot;invalid&quot;</span><span class="op">)</span> <span class="co">// Should be boolean</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">update</span><span class="op">(</span><span class="st">&quot;logging.level&quot;</span><span class="op">,</span> <span class="dv">123</span><span class="op">);</span> <span class="co">// Should be string</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Validating preferences</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    PreferenceValidationResult validation <span class="op">=</span> prefs<span class="op">.</span><span class="fu">validatePreferences</span><span class="op">();</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    PreferenceStatistics stats <span class="op">=</span> prefs<span class="op">.</span><span class="fu">getStatistics</span><span class="op">();</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should detect validation issues</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>validation<span class="op">.</span><span class="fu">isValid</span><span class="op">()).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>validation<span class="op">.</span><span class="fu">getIssues</span><span class="op">()).</span><span class="fu">hasSize</span><span class="op">(</span><span class="dv">2</span><span class="op">);</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>stats<span class="op">.</span><span class="fu">getTotalPreferences</span><span class="op">()).</span><span class="fu">isPositive</span><span class="op">();</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>stats<span class="op">.</span><span class="fu">getCategoryCounts</span><span class="op">()).</span><span class="fu">containsKeys</span><span class="op">(</span><span class="st">&quot;notification&quot;</span><span class="op">,</span> <span class="st">&quot;logging&quot;</span><span class="op">);</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="related-documentation">Related Documentation</h1>
<ul>
<li><span class="spurious-link" target="User.org"><em>User</em></span>:
User aggregate using this preferences value object</li>
<li><span class="spurious-link"
target="UserSession.org"><em>UserSession</em></span>: User session
related to preference application</li>
<li><span class="spurious-link"
target="UserStatistics.org"><em>UserStatistics</em></span>: User
statistics influenced by preferences</li>
<li><span class="spurious-link"
target="UserId.org"><em>UserId</em></span>: User identifier for
preference correlation</li>
<li><a href="../flows/user-management-flow.org">User Management
Flow</a>: User management workflow using preferences</li>
</ul>
<h1 id="implementation-notes">Implementation Notes</h1>
<h2 id="design-patterns-applied">Design Patterns Applied</h2>
<p>The class leverages several sophisticated design patterns:</p>
<ul>
<li><strong><strong>Value Object Pattern</strong></strong>: Immutable
preferences with comprehensive management and intelligence methods</li>
<li><strong><strong>Builder Pattern</strong></strong>: Flexible
construction of complex preference configurations</li>
<li><strong><strong>Strategy Pattern</strong></strong>: Support for
different preference validation and access strategies</li>
<li><strong><strong>Factory Method Pattern</strong></strong>: Static
factory methods for different preference configurations</li>
</ul>
<h2 id="domain-driven-design-principles">Domain-Driven Design
Principles</h2>
<p>The implementation follows strict DDD principles:</p>
<ul>
<li><strong><strong>Rich Value Objects</strong></strong>: Comprehensive
preference behavior and intelligence beyond simple data containers</li>
<li><strong><strong>Domain Intelligence</strong></strong>: Built-in
domain intelligence for preference validation and configuration
management</li>
<li><strong><strong>Infrastructure Independence</strong></strong>: Pure
domain logic without infrastructure technology dependencies</li>
<li><strong><strong>Ubiquitous Language</strong></strong>: Clear,
business-focused naming and comprehensive documentation</li>
</ul>
<h2 id="future-enhancement-opportunities">Future Enhancement
Opportunities</h2>
<p>The design supports future enhancements:</p>
<ul>
<li><strong><strong>Schema Validation</strong></strong>: Schema-based
preference validation with comprehensive constraint checking</li>
<li><strong><strong>Dynamic Preferences</strong></strong>: Dynamic
preference loading and hot-reloading capabilities</li>
<li><strong><strong>Preference Profiles</strong></strong>: User
preference profiles for different contexts and environments</li>
<li><strong><strong>AI-Driven Optimization</strong></strong>: AI-driven
preference optimization and personalized recommendation engine</li>
</ul>
<p>The UserPreferences class provides ByteHot's essential user
configuration and personalization foundation while maintaining
comprehensive preference management capabilities, sophisticated
validation intelligence, and extensibility for advanced personalization
scenarios throughout the entire intelligent hot-swap system
lifecycle.</p>
</main>
<div class="footer">
    ByteHot - Revolutionary JVM Hot-Swapping | 
    <a href="https://github.com/rydnr/bytehot">GitHub</a> | 
    <a href="https://rydnr.github.io/bytehot/docs/">Documentation</a> | 
    <a href="https://rydnr.github.io/bytehot/javadocs/">API Docs</a>
</div>
</body></html>
