<!DOCTYPE html>
<html>
<head>
    <title>FlowCondition - ByteHot Documentation</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
<div class="navigation">
    <a href="../index.html">üè† Home</a>
    <a href="../implementation.html">üèóÔ∏è Implementation</a>
    <a href="../journal.html">üìî Journal</a>
    <a href="../docs/">üìö Docs</a>
    <a href="../javadocs/">üìñ Javadocs</a>
    <a href="https://github.com/rydnr/bytehot">üîó GitHub</a>
</div>
<main>
<h1 id="overview">Overview</h1>
<p>The <code>FlowCondition</code> class serves as ByteHot's
sophisticated flow pattern validation and business rule engine value
object, providing comprehensive condition evaluation, advanced pattern
matching logic, and intelligent flow validation capabilities for precise
business flow detection and pattern recognition. This critical domain
value object encapsulates conditional logic, validation rules, and
sophisticated evaluation mechanisms that enable precise flow pattern
matching and business rule enforcement. As the validation foundation for
ByteHot's flow intelligence system, it enables comprehensive flow
validation while maintaining clean domain boundaries and supporting
advanced pattern analytics, conditional intelligence, and operational
validation throughout the entire intelligent hot-swap system
lifecycle.</p>
<h1 id="domain-architecture-role">Domain Architecture Role</h1>
<h2
id="flow-pattern-validation-and-business-rule-engine-foundation">Flow
Pattern Validation and Business Rule Engine Foundation</h2>
<p>FlowCondition serves as the comprehensive flow pattern validation and
business rule engine foundation:</p>
<ul>
<li>Provides sophisticated conditional logic for flow pattern validation
and business rule enforcement</li>
<li>Enables comprehensive pattern matching and validation through
advanced condition evaluation and intelligence</li>
<li>Supports intelligent flow validation and business process
verification through domain-driven conditional logic</li>
<li>Acts as the authoritative foundation for flow validation operations
and pattern recognition coordination</li>
</ul>
<h2 id="value-object-design-and-immutable-condition-context">Value
Object Design and Immutable Condition Context</h2>
<p>The class serves as the value object design and immutable condition
context:</p>
<ul>
<li>Implements sophisticated value object patterns with immutable
condition encapsulation and evaluation methods</li>
<li>Provides comprehensive condition validation and consistency through
domain-driven design principles</li>
<li>Enables condition composition and correlation capabilities for
complex flow validation scenarios</li>
<li>Supports condition optimization and performance enhancement through
efficient value object design</li>
</ul>
<h2 id="business-rule-intelligence-and-pattern-recognition-hub">Business
Rule Intelligence and Pattern Recognition Hub</h2>
<p>The implementation provides business rule intelligence and pattern
recognition capabilities:</p>
<ul>
<li>Enables sophisticated business rule intelligence through
comprehensive condition evaluation and validation</li>
<li>Supports advanced pattern recognition and flow validation through
conditional logic and assessment</li>
<li>Provides foundation for flow analytics and business intelligence
through condition-driven correlation</li>
<li>Enables intelligent flow monitoring and optimization through
condition-driven validation and assessment</li>
</ul>
<h1 id="flow-condition-structure-and-validation-context">Flow Condition
Structure and Validation Context</h1>
<h2 id="core-condition-identity-and-description-context">Core Condition
Identity and Description Context</h2>
<div class="sourceCode" id="cb1"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Name of the condition for identification and management</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">@Getter</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> name<span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Description of what this condition checks for validation understanding</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">@Getter</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> description<span class="op">;</span></span></code></pre></div>
<h2 id="conditional-logic-and-evaluation-engine-context">Conditional
Logic and Evaluation Engine Context</h2>
<div class="sourceCode" id="cb2"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Predicate function that evaluates the condition with sophisticated logic</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">@Getter</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="dt">final</span> <span class="bu">Predicate</span><span class="op">&lt;</span><span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;&gt;</span> condition<span class="op">;</span></span></code></pre></div>
<h2 id="core-condition-evaluation-and-validation-operations">Core
Condition Evaluation and Validation Operations</h2>
<div class="sourceCode" id="cb3"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Evaluates this condition against a list of events with comprehensive validation</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">events</span><span class="co"> </span>The events to evaluate for condition satisfaction and validation</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> true if the condition is satisfied<span class="co">,</span> false otherwise</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">evaluate</span><span class="op">(</span><span class="at">@Nullable</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> events<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>condition <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> condition<span class="op">.</span><span class="fu">test</span><span class="op">(</span>events<span class="op">);</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1
id="predefined-condition-factory-methods-and-business-rules">Predefined
Condition Factory Methods and Business Rules</h1>
<h2 id="user-specific-condition-and-identity-validation">User-Specific
Condition and Identity Validation</h2>
<div class="sourceCode" id="cb4"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that checks for user<span class="co">-</span>specific events with identity validation</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">userId</span><span class="co"> </span>The user ID to check for identity validation and correlation</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures all events belong to the specified user</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">sameUser</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> UserId userId<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Same User&quot;</span><span class="op">)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;All events must belong to user: &quot;</span> <span class="op">+</span> userId<span class="op">.</span><span class="fu">getValue</span><span class="op">())</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> events<span class="op">.</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">allMatch</span><span class="op">(</span>event <span class="op">-&gt;</span> userId<span class="op">.</span><span class="fu">equals</span><span class="op">(</span>event<span class="op">.</span><span class="fu">getUserId</span><span class="op">())))</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="temporal-condition-and-time-window-validation">Temporal
Condition and Time Window Validation</h2>
<div class="sourceCode" id="cb5"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that checks for events within a time window</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">maxDurationMillis</span><span class="co"> </span>Maximum duration between first and last event for temporal validation</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures events are within the time window</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">withinTimeWindow</span><span class="op">(</span><span class="dt">final</span> <span class="dt">long</span> maxDurationMillis<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Time Window&quot;</span><span class="op">)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Events must occur within &quot;</span> <span class="op">+</span> maxDurationMillis <span class="op">+</span> <span class="st">&quot;ms&quot;</span><span class="op">)</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">&lt;</span> <span class="dv">2</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>            <span class="dt">long</span> firstTimestamp <span class="op">=</span> events<span class="op">.</span><span class="fu">get</span><span class="op">(</span><span class="dv">0</span><span class="op">).</span><span class="fu">getTimestamp</span><span class="op">().</span><span class="fu">toEpochMilli</span><span class="op">();</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>            <span class="dt">long</span> lastTimestamp <span class="op">=</span> events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">-</span> <span class="dv">1</span><span class="op">).</span><span class="fu">getTimestamp</span><span class="op">().</span><span class="fu">toEpochMilli</span><span class="op">();</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="op">(</span>lastTimestamp <span class="op">-</span> firstTimestamp<span class="op">)</span> <span class="op">&lt;=</span> maxDurationMillis<span class="op">;</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2
id="sequential-order-condition-and-chronological-validation">Sequential
Order Condition and Chronological Validation</h2>
<div class="sourceCode" id="cb6"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that checks for sequential order of events</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> A condition that ensures events are in chronological order</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">sequentialOrder</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Sequential Order&quot;</span><span class="op">)</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Events must be in chronological order&quot;</span><span class="op">)</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> events<span class="op">.</span><span class="fu">size</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>i<span class="op">).</span><span class="fu">getTimestamp</span><span class="op">().</span><span class="fu">isBefore</span><span class="op">(</span>events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">).</span><span class="fu">getTimestamp</span><span class="op">()))</span> <span class="op">{</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="composite-condition-and-advanced-logic-composition">Composite
Condition and Advanced Logic Composition</h2>
<div class="sourceCode" id="cb7"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a composite condition that requires all provided conditions to be met</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">conditions</span><span class="co"> </span>The conditions that must all be met for composite validation</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that is satisfied only if all input conditions are satisfied</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">allOf</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> FlowCondition<span class="kw">...</span> conditions<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;All Of&quot;</span><span class="op">)</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;All conditions must be met&quot;</span><span class="op">)</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span>FlowCondition condition <span class="op">:</span> conditions<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(!</span>condition<span class="op">.</span><span class="fu">condition</span><span class="op">.</span><span class="fu">test</span><span class="op">(</span>events<span class="op">))</span> <span class="op">{</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2
id="enhanced-condition-factory-methods-and-advanced-business-rules">Enhanced
Condition Factory Methods and Advanced Business Rules</h2>
<div class="sourceCode" id="cb8"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a composite condition that requires any of the provided conditions to be met</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">conditions</span><span class="co"> </span>The conditions where at least one must be met for disjunctive validation</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that is satisfied if any input condition is satisfied</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">anyOf</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> FlowCondition<span class="kw">...</span> conditions<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Any Of&quot;</span><span class="op">)</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;At least one condition must be met&quot;</span><span class="op">)</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span>FlowCondition condition <span class="op">:</span> conditions<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>condition<span class="op">.</span><span class="fu">condition</span><span class="op">.</span><span class="fu">test</span><span class="op">(</span>events<span class="op">))</span> <span class="op">{</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that requires a minimum number of events</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">minimumCount</span><span class="co"> </span>The minimum number of events required for count validation</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures minimum event count is met</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">minimumEventCount</span><span class="op">(</span><span class="dt">final</span> <span class="dt">int</span> minimumCount<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Minimum Event Count&quot;</span><span class="op">)</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Must have at least &quot;</span> <span class="op">+</span> minimumCount <span class="op">+</span> <span class="st">&quot; events&quot;</span><span class="op">)</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> events <span class="op">!=</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">&gt;=</span> minimumCount<span class="op">)</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that requires a maximum number of events</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">maximumCount</span><span class="co"> </span>The maximum number of events allowed for count validation</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures maximum event count is not exceeded</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">maximumEventCount</span><span class="op">(</span><span class="dt">final</span> <span class="dt">int</span> maximumCount<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Maximum Event Count&quot;</span><span class="op">)</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Must have at most &quot;</span> <span class="op">+</span> maximumCount <span class="op">+</span> <span class="st">&quot; events&quot;</span><span class="op">)</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> events <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">&lt;=</span> maximumCount<span class="op">)</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that checks for specific event types in sequence</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">eventTypes</span><span class="co"> </span>The event types that must appear in order for sequence validation</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures specific event type sequence</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">eventTypeSequence</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">String</span><span class="kw">...</span> eventTypes<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Event Type Sequence&quot;</span><span class="op">)</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Events must follow specific type sequence: &quot;</span> <span class="op">+</span> <span class="bu">String</span><span class="op">.</span><span class="fu">join</span><span class="op">(</span><span class="st">&quot; -&gt; &quot;</span><span class="op">,</span> eventTypes<span class="op">))</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>events <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">&lt;</span> eventTypes<span class="op">.</span><span class="fu">length</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> eventTypes<span class="op">.</span><span class="fu">length</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(!</span>eventTypes<span class="op">[</span>i<span class="op">].</span><span class="fu">equals</span><span class="op">(</span>events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>i<span class="op">).</span><span class="fu">getEventType</span><span class="op">()))</span> <span class="op">{</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that checks for events containing specific metadata</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">metadataKey</span><span class="co"> </span>The metadata key to check for metadata validation</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">metadataValue</span><span class="co"> </span>The metadata value to match for metadata validation</span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures specific metadata presence</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">containsMetadata</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">String</span> metadataKey<span class="op">,</span> <span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">String</span> metadataValue<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Contains Metadata&quot;</span><span class="op">)</span></span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Events must contain metadata: &quot;</span> <span class="op">+</span> metadataKey <span class="op">+</span> <span class="st">&quot;=&quot;</span> <span class="op">+</span> metadataValue<span class="op">)</span></span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> events <span class="op">!=</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> events<span class="op">.</span><span class="fu">stream</span><span class="op">()</span></span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">anyMatch</span><span class="op">(</span>event <span class="op">-&gt;</span> metadataValue<span class="op">.</span><span class="fu">equals</span><span class="op">(</span>event<span class="op">.</span><span class="fu">getMetadata</span><span class="op">().</span><span class="fu">get</span><span class="op">(</span>metadataKey<span class="op">))))</span></span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a condition that validates event frequency within time windows</span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">maxEventsPerWindow</span><span class="co"> </span>Maximum events allowed per time window for frequency validation</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">windowSizeMillis</span><span class="co"> </span>Size of the time window in milliseconds for frequency analysis</span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition that ensures event frequency limits</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">eventFrequencyLimit</span><span class="op">(</span><span class="dt">final</span> <span class="dt">int</span> maxEventsPerWindow<span class="op">,</span> <span class="dt">final</span> <span class="dt">long</span> windowSizeMillis<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span><span class="st">&quot;Event Frequency Limit&quot;</span><span class="op">)</span></span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span><span class="st">&quot;Maximum &quot;</span> <span class="op">+</span> maxEventsPerWindow <span class="op">+</span> <span class="st">&quot; events per &quot;</span> <span class="op">+</span> windowSizeMillis <span class="op">+</span> <span class="st">&quot;ms window&quot;</span><span class="op">)</span></span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>events <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>events <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">&lt;=</span> maxEventsPerWindow<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-105"><a href="#cb8-105" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-106"><a href="#cb8-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-107"><a href="#cb8-107" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Check sliding windows</span></span>
<span id="cb8-108"><a href="#cb8-108" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;=</span> events<span class="op">.</span><span class="fu">size</span><span class="op">()</span> <span class="op">-</span> maxEventsPerWindow <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-109"><a href="#cb8-109" aria-hidden="true" tabindex="-1"></a>                <span class="dt">long</span> windowStart <span class="op">=</span> events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>i<span class="op">).</span><span class="fu">getTimestamp</span><span class="op">().</span><span class="fu">toEpochMilli</span><span class="op">();</span></span>
<span id="cb8-110"><a href="#cb8-110" aria-hidden="true" tabindex="-1"></a>                <span class="dt">long</span> windowEnd <span class="op">=</span> events<span class="op">.</span><span class="fu">get</span><span class="op">(</span>i <span class="op">+</span> maxEventsPerWindow<span class="op">).</span><span class="fu">getTimestamp</span><span class="op">().</span><span class="fu">toEpochMilli</span><span class="op">();</span></span>
<span id="cb8-111"><a href="#cb8-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-112"><a href="#cb8-112" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>windowEnd <span class="op">-</span> windowStart <span class="op">&lt;=</span> windowSizeMillis<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-113"><a href="#cb8-113" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span> <span class="co">// Too many events in this window</span></span>
<span id="cb8-114"><a href="#cb8-114" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb8-115"><a href="#cb8-115" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-116"><a href="#cb8-116" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-117"><a href="#cb8-117" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb8-118"><a href="#cb8-118" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-119"><a href="#cb8-119" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-120"><a href="#cb8-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-121"><a href="#cb8-121" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb8-122"><a href="#cb8-122" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Creates a custom condition with user<span class="co">-</span>defined logic</span>
<span id="cb8-123"><a href="#cb8-123" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">name</span><span class="co"> </span>The name of the custom condition for identification</span>
<span id="cb8-124"><a href="#cb8-124" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">description</span><span class="co"> </span>The description of the custom condition for understanding</span>
<span id="cb8-125"><a href="#cb8-125" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@param</span><span class="co"> </span><span class="an">customCondition</span><span class="co"> </span>The custom predicate for condition evaluation</span>
<span id="cb8-126"><a href="#cb8-126" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> A condition with custom validation logic</span>
<span id="cb8-127"><a href="#cb8-127" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb8-128"><a href="#cb8-128" aria-hidden="true" tabindex="-1"></a><span class="at">@NonNull</span></span>
<span id="cb8-129"><a href="#cb8-129" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> FlowCondition <span class="fu">custom</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">String</span> name<span class="op">,</span> <span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">String</span> description<span class="op">,</span> </span>
<span id="cb8-130"><a href="#cb8-130" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">Predicate</span><span class="op">&lt;</span><span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;&gt;</span> customCondition<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-131"><a href="#cb8-131" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> FlowCondition<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb8-132"><a href="#cb8-132" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">name</span><span class="op">(</span>name<span class="op">)</span></span>
<span id="cb8-133"><a href="#cb8-133" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">description</span><span class="op">(</span>description<span class="op">)</span></span>
<span id="cb8-134"><a href="#cb8-134" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">condition</span><span class="op">(</span>customCondition<span class="op">)</span></span>
<span id="cb8-135"><a href="#cb8-135" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb8-136"><a href="#cb8-136" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2
id="advanced-condition-intelligence-and-analysis-operations">Advanced
Condition Intelligence and Analysis Operations</h2>
<div class="sourceCode" id="cb9"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets condition complexity score for performance and optimization analysis</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> complexity score from <span class="co">1</span> <span class="co">(</span>simple<span class="co">)</span> to <span class="co">10</span> <span class="co">(</span>very complex<span class="co">)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">getComplexityScore</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">String</span> lowerName <span class="op">=</span> name<span class="op">.</span><span class="fu">toLowerCase</span><span class="op">();</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;custom&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">10</span><span class="op">;</span> <span class="co">// Custom conditions are most complex</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;all of&quot;</span><span class="op">)</span> <span class="op">||</span> lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;any of&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">8</span><span class="op">;</span> <span class="co">// Composite conditions are complex</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;frequency&quot;</span><span class="op">)</span> <span class="op">||</span> lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;sequence&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">6</span><span class="op">;</span> <span class="co">// Advanced patterns are moderately complex</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;time&quot;</span><span class="op">)</span> <span class="op">||</span> lowerName<span class="op">.</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;order&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">4</span><span class="op">;</span> <span class="co">// Temporal conditions are moderately simple</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// Basic conditions are simple</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Checks if this condition is deterministic <span class="co">(</span>always produces same result for same input<span class="co">)</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> true if condition is deterministic for performance optimization</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">isDeterministic</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Most conditions are deterministic except custom ones that might use external state</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">!</span>name<span class="op">.</span><span class="fu">toLowerCase</span><span class="op">().</span><span class="fu">contains</span><span class="op">(</span><span class="st">&quot;custom&quot;</span><span class="op">);</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Gets the expected performance impact of this condition</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@return</span> performance impact assessment for optimization planning</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> ConditionPerformanceImpact <span class="fu">getPerformanceImpact</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> complexity <span class="op">=</span> <span class="fu">getComplexityScore</span><span class="op">();</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>complexity <span class="op">&lt;=</span> <span class="dv">3</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ConditionPerformanceImpact<span class="op">.</span><span class="fu">LOW</span><span class="op">;</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>complexity <span class="op">&lt;=</span> <span class="dv">6</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ConditionPerformanceImpact<span class="op">.</span><span class="fu">MEDIUM</span><span class="op">;</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ConditionPerformanceImpact<span class="op">.</span><span class="fu">HIGH</span><span class="op">;</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Validates this condition against a test event set for condition health assessment</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="an">testEvents</span><span class="co"> </span>Sample events for condition validation testing</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> <span class="an">@return</span> validation result with condition health and performance assessment</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> ConditionValidationResult <span class="fu">validateCondition</span><span class="op">(</span><span class="at">@NonNull</span> <span class="dt">final</span> <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> testEvents<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> issues <span class="op">=</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings <span class="op">=</span> <span class="kw">new</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">ArrayList</span><span class="op">&lt;&gt;();</span></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> <span class="op">{</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Test condition execution</span></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>        <span class="dt">long</span> startTime <span class="op">=</span> <span class="bu">System</span><span class="op">.</span><span class="fu">nanoTime</span><span class="op">();</span></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>        <span class="dt">boolean</span> result <span class="op">=</span> <span class="fu">evaluate</span><span class="op">(</span>testEvents<span class="op">);</span></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>        <span class="dt">long</span> executionTime <span class="op">=</span> <span class="bu">System</span><span class="op">.</span><span class="fu">nanoTime</span><span class="op">()</span> <span class="op">-</span> startTime<span class="op">;</span></span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Performance analysis</span></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>executionTime <span class="op">&gt;</span> <span class="dv">1_000_000</span><span class="op">)</span> <span class="op">{</span> <span class="co">// 1ms</span></span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>            warnings<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Condition execution took longer than expected: &quot;</span> <span class="op">+</span> <span class="op">(</span>executionTime <span class="op">/</span> <span class="dv">1_000_000</span><span class="op">)</span> <span class="op">+</span> <span class="st">&quot;ms&quot;</span><span class="op">);</span></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Complexity analysis</span></span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="fu">getComplexityScore</span><span class="op">()</span> <span class="op">&gt;</span> <span class="dv">7</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>            warnings<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;High complexity condition may impact performance&quot;</span><span class="op">);</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ConditionValidationResult<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">isValid</span><span class="op">(</span><span class="kw">true</span><span class="op">)</span></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">issues</span><span class="op">(</span>issues<span class="op">)</span></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">warnings</span><span class="op">(</span>warnings<span class="op">)</span></span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">executionTimeNanos</span><span class="op">(</span>executionTime<span class="op">)</span></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">complexityScore</span><span class="op">(</span><span class="fu">getComplexityScore</span><span class="op">())</span></span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">performanceImpact</span><span class="op">(</span><span class="fu">getPerformanceImpact</span><span class="op">())</span></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">testResult</span><span class="op">(</span>result<span class="op">)</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">catch</span> <span class="op">(</span><span class="bu">Exception</span> e<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>        issues<span class="op">.</span><span class="fu">add</span><span class="op">(</span><span class="st">&quot;Condition execution failed: &quot;</span> <span class="op">+</span> e<span class="op">.</span><span class="fu">getMessage</span><span class="op">());</span></span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> ConditionValidationResult<span class="op">.</span><span class="fu">builder</span><span class="op">()</span></span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">isValid</span><span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">issues</span><span class="op">(</span>issues<span class="op">)</span></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">warnings</span><span class="op">(</span>warnings<span class="op">)</span></span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">executionTimeNanos</span><span class="op">(</span><span class="dv">0L</span><span class="op">)</span></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">complexityScore</span><span class="op">(</span><span class="fu">getComplexityScore</span><span class="op">())</span></span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">performanceImpact</span><span class="op">(</span><span class="fu">getPerformanceImpact</span><span class="op">())</span></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">testResult</span><span class="op">(</span><span class="kw">false</span><span class="op">)</span></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">build</span><span class="op">();</span></span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="condition-analytics-and-performance-value-objects">Condition
Analytics and Performance Value Objects</h2>
<div class="sourceCode" id="cb10"
data-tangle="../bytehot/src/main/java/org/acmsl/bytehot/domain/FlowCondition.java"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Performance impact levels for condition optimization</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">enum</span> ConditionPerformanceImpact <span class="op">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">LOW</span><span class="op">(</span><span class="st">&quot;Minimal performance impact&quot;</span><span class="op">),</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">MEDIUM</span><span class="op">(</span><span class="st">&quot;Moderate performance impact&quot;</span><span class="op">),</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">HIGH</span><span class="op">(</span><span class="st">&quot;Significant performance impact&quot;</span><span class="op">);</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> description<span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ConditionPerformanceImpact</span><span class="op">(</span><span class="bu">String</span> description<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">description</span> <span class="op">=</span> description<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getDescription</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> description<span class="op">;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a> <span class="co">*</span> Condition validation result for health assessment and optimization</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a> <span class="co">*/</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Builder</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">EqualsAndHashCode</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">ToString</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="at">@lombok</span><span class="op">.</span><span class="fu">Getter</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">static</span> <span class="kw">class</span> ConditionValidationResult <span class="op">{</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Whether condition is valid and operational</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">boolean</span> isValid<span class="op">;</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> List of validation issues</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> issues<span class="op">;</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> List of validation warnings</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> java<span class="op">.</span><span class="fu">util</span><span class="op">.</span><span class="fu">List</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">&gt;</span> warnings<span class="op">;</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Condition execution time in nanoseconds</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">long</span> executionTimeNanos<span class="op">;</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Condition complexity score</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">int</span> complexityScore<span class="op">;</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Performance impact assessment</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> ConditionPerformanceImpact performanceImpact<span class="op">;</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">/**</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>     <span class="co">*</span> Test evaluation result</span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>     <span class="co">*/</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="dt">boolean</span> testResult<span class="op">;</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="testing-and-validation-strategies">Testing and Validation
Strategies</h1>
<h2 id="basic-condition-testing">Basic Condition Testing</h2>
<div class="sourceCode" id="cb11"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldEvaluateBasicConditions</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: User-specific condition</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    UserId testUser <span class="op">=</span> UserId<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;test-user&quot;</span><span class="op">);</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    FlowCondition userCondition <span class="op">=</span> FlowCondition<span class="op">.</span><span class="fu">sameUser</span><span class="op">(</span>testUser<span class="op">);</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Evaluating with matching events</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> matchingEvents <span class="op">=</span> <span class="fu">createEventsForUser</span><span class="op">(</span>testUser<span class="op">);</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> nonMatchingEvents <span class="op">=</span> <span class="fu">createEventsForDifferentUser</span><span class="op">();</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should validate correctly</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>userCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>matchingEvents<span class="op">)).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>userCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>nonMatchingEvents<span class="op">)).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>userCondition<span class="op">.</span><span class="fu">getName</span><span class="op">()).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="st">&quot;Same User&quot;</span><span class="op">);</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="temporal-condition-testing">Temporal Condition Testing</h2>
<div class="sourceCode" id="cb12"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldEvaluateTemporalConditions</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: Time window condition</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    FlowCondition timeCondition <span class="op">=</span> FlowCondition<span class="op">.</span><span class="fu">withinTimeWindow</span><span class="op">(</span><span class="dv">5000L</span><span class="op">);</span> <span class="co">// 5 seconds</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    FlowCondition orderCondition <span class="op">=</span> FlowCondition<span class="op">.</span><span class="fu">sequentialOrder</span><span class="op">();</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Evaluating with time-based events</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> quickEvents <span class="op">=</span> <span class="fu">createEventsWithinTimeWindow</span><span class="op">(</span><span class="dv">3000L</span><span class="op">);</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> slowEvents <span class="op">=</span> <span class="fu">createEventsWithinTimeWindow</span><span class="op">(</span><span class="dv">10000L</span><span class="op">);</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> orderedEvents <span class="op">=</span> <span class="fu">createOrderedEvents</span><span class="op">();</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> unorderedEvents <span class="op">=</span> <span class="fu">createUnorderedEvents</span><span class="op">();</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should validate temporal constraints</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>timeCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>quickEvents<span class="op">)).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>timeCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>slowEvents<span class="op">)).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>orderCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>orderedEvents<span class="op">)).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>orderCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>unorderedEvents<span class="op">)).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="composite-condition-testing">Composite Condition Testing</h2>
<div class="sourceCode" id="cb13"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Test</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">shouldEvaluateCompositeConditions</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Given: Composite conditions</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    UserId testUser <span class="op">=</span> UserId<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;test-user&quot;</span><span class="op">);</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    FlowCondition allCondition <span class="op">=</span> FlowCondition<span class="op">.</span><span class="fu">allOf</span><span class="op">(</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        FlowCondition<span class="op">.</span><span class="fu">sameUser</span><span class="op">(</span>testUser<span class="op">),</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        FlowCondition<span class="op">.</span><span class="fu">sequentialOrder</span><span class="op">(),</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        FlowCondition<span class="op">.</span><span class="fu">minimumEventCount</span><span class="op">(</span><span class="dv">3</span><span class="op">)</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">);</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// When: Evaluating with various event sets</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> validEvents <span class="op">=</span> <span class="fu">createValidEventSequence</span><span class="op">(</span>testUser<span class="op">);</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">List</span><span class="op">&lt;</span>VersionedDomainEvent<span class="op">&gt;</span> invalidEvents <span class="op">=</span> <span class="fu">createInvalidEventSequence</span><span class="op">();</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Then: Should validate composite logic</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>allCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>validEvents<span class="op">)).</span><span class="fu">isTrue</span><span class="op">();</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>allCondition<span class="op">.</span><span class="fu">evaluate</span><span class="op">(</span>invalidEvents<span class="op">)).</span><span class="fu">isFalse</span><span class="op">();</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assertThat</span><span class="op">(</span>allCondition<span class="op">.</span><span class="fu">getName</span><span class="op">()).</span><span class="fu">isEqualTo</span><span class="op">(</span><span class="st">&quot;All Of&quot;</span><span class="op">);</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="related-documentation">Related Documentation</h1>
<ul>
<li><span class="spurious-link" target="Flow.org"><em>Flow</em></span>:
Flow domain entity using this condition for validation</li>
<li><span class="spurious-link"
target="FlowDetector.org"><em>FlowDetector</em></span>: Flow detection
service using conditions</li>
<li><span class="spurious-link"
target="FlowSearchCriteria.org"><em>FlowSearchCriteria</em></span>:
Search criteria related to flow conditions</li>
<li><span class="spurious-link"
target="UserId.org"><em>UserId</em></span>: User identifier used in
user-specific conditions</li>
<li><span class="spurious-link"
target="TimeWindow.org"><em>TimeWindow</em></span>: Time window related
to temporal conditions</li>
<li><a href="../flows/flow-intelligence-learning-flow.org">Flow
Intelligence Learning Flow</a>: Flow validation workflow</li>
</ul>
<h1 id="implementation-notes">Implementation Notes</h1>
<h2 id="design-patterns-applied">Design Patterns Applied</h2>
<p>The class leverages several sophisticated design patterns:</p>
<ul>
<li><strong><strong>Value Object Pattern</strong></strong>: Immutable
condition with comprehensive evaluation and intelligence methods</li>
<li><strong><strong>Strategy Pattern</strong></strong>: Pluggable
condition evaluation strategies through predicate functions</li>
<li><strong><strong>Factory Method Pattern</strong></strong>: Static
factory methods for different condition types and compositions</li>
<li><strong><strong>Composite Pattern</strong></strong>: Composite
conditions combining multiple validation rules</li>
</ul>
<h2 id="domain-driven-design-principles">Domain-Driven Design
Principles</h2>
<p>The implementation follows strict DDD principles:</p>
<ul>
<li><strong><strong>Rich Value Objects</strong></strong>: Comprehensive
condition behavior and intelligence beyond simple validation</li>
<li><strong><strong>Domain Intelligence</strong></strong>: Built-in
domain intelligence for condition evaluation and performance
assessment</li>
<li><strong><strong>Infrastructure Independence</strong></strong>: Pure
domain logic without infrastructure technology dependencies</li>
<li><strong><strong>Ubiquitous Language</strong></strong>: Clear,
business-focused naming and comprehensive documentation</li>
</ul>
<h2 id="future-enhancement-opportunities">Future Enhancement
Opportunities</h2>
<p>The design supports future enhancements:</p>
<ul>
<li><strong><strong>Machine Learning Conditions</strong></strong>:
AI-driven condition generation and optimization</li>
<li><strong><strong>Dynamic Conditions</strong></strong>: Runtime
condition modification and adaptive validation</li>
<li><strong><strong>Performance Optimization</strong></strong>: Advanced
performance optimization and condition caching</li>
<li><strong><strong>Visual Condition Builder</strong></strong>: Visual
interface for condition composition and management</li>
</ul>
<p>The FlowCondition class provides ByteHot's essential flow pattern
validation and business rule engine foundation while maintaining
comprehensive conditional logic capabilities, sophisticated evaluation
intelligence, and extensibility for advanced validation scenarios
throughout the entire intelligent hot-swap system lifecycle.</p>
</main>
<div class="footer">
    ByteHot - Revolutionary JVM Hot-Swapping | 
    <a href="https://github.com/rydnr/bytehot">GitHub</a> | 
    <a href="https://rydnr.github.io/bytehot/docs/">Documentation</a> | 
    <a href="https://rydnr.github.io/bytehot/javadocs/">API Docs</a>
</div>
</body></html>
